### Введение в `switch-case`

- `switch-case` представляет собой альтернативу последовательности `if-else` для управления множественными ветвлениями.
- Она позволяет проверять переменную на равенство с множеством значений, которые называются "case", и выполнять блок кода, соответствующий каждому значению.

### Синтаксис

В Java синтаксис `switch-case` выглядит следующим образом:

```
switch (expression) {
    case value1:
        // Код для выполнения, если expression равно value1
        break;
    case value2:
        // Код для выполнения, если expression равно value2
        break;
    // Можно добавить сколько угодно case блоков
    default:
        // Код для выполнения, если expression не соответствует ни одному case
}
```

- `expression` должно быть выражением, возвращающим значение типа `byte`, `short`, `char`, `int`, строку или перечисление (enum).
- Каждый `case` проверяет `expression` на равенство с определенным значением.
- `break` используется для выхода из `switch` блока после выполнения соответствующего `case`.
- `default` используется для выполнения кода, если ни один `case` не совпал; это необязательный блок.

### Особенности

- Отсутствие `break` в `case` приводит к "пролету" выполнения кода к следующему `case`, это называется fall-through.
- С Java SE 7 и выше можно использовать строки (String) в `switch` выражении.
- В Java SE 12 было предложено расширение `switch` для поддержки "switch expressions", которое позволяет использовать `switch` как выражение, возвращающее значение.

### Пример использования

Пример использования `switch-case` для выбора дня недели:

```
int day = 4;
String dayString;

switch (day) {
    case 1:  dayString = "Понедельник";
             break;
    case 2:  dayString = "Вторник";
             break;
    case 3:  dayString = "Среда";
             break;
    case 4:  dayString = "Четверг";
             break;
    case 5:  dayString = "Пятница";
             break;
    case 6:  dayString = "Суббота";
             break;
    case 7:  dayString = "Воскресенье";
             break;
    default: dayString = "Неверный день";
             break;
}

System.out.println(dayString);
```

### Лучшие практики

- Используйте `switch-case` для упрощения кода при наличии множества условий, проверяющих одну и ту же переменную на равенство с различными значениями.
- Всегда добавляйте `break` в конце каждого `case`, если не требуется осознанный fall-through.
- Используйте `default` для обработки неожиданных значений.

В Java 12 было введено предложение JEP 325, которое доработало в Java 14 и стало стандартной функцией в Java 17. Это предложение превратило `switch` из простого оператора управления потоком в выражение, которое может возвращать значение. Это означает, что теперь `switch` можно использовать не только для выполнения различных блоков кода в зависимости от условий, но и для присваивания результата его работы переменным.

### Основные изменения

1. **Возвращение значения**: `switch` теперь может возвращать значение, которое можно присвоить переменной.
2. **`case` лейблы с `->`**: Вместо традиционного `:` после `case` теперь используется `->`, если не требуется fall-through логика.
3. **Блочные и выраженческие формы**: Каждый `case` может быть представлен в виде блока кода (с фигурными скобками) или одного выражения.

### Примеры использования

#### `switch` как оператор

Старый способ использования `switch` остается валидным:

```
int day = 2;
switch (day) {
    case 1:
        System.out.println("Понедельник");
        break;
    case 2:
        System.out.println("Вторник");
        break;
    // И так далее
}
```

#### `switch` как выражение

Новый синтаксис позволяет использовать `switch` более компактно и возвращать значения:

```
int day = 4;
String dayType = switch (day) {
    case 1, 2, 3, 4, 5 -> "Будний день";
    case 6, 7 -> "Выходной";
    default -> throw new IllegalArgumentException("Неправильный день: " + day);
};
System.out.println(dayType);
```

В этом примере `switch` используется для присваивания строки переменной `dayType` на основе значения `day`. Использование `->` упрощает синтаксис и делает его более читабельным. Также обратите внимание на группировку нескольких значений для одного `case` через запятую, что является еще одним улучшением для упрощения кода.